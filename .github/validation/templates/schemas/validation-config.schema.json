{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Template Validation Configuration",
  "description": "Configuration schema for template validation system",
  "type": "object",
  "properties": {
    "validation": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable template validation"
        },
        "strictMode": {
          "type": "boolean",
          "default": false,
          "description": "Enable strict validation mode with enhanced checks"
        },
        "reportFormat": {
          "type": "string",
          "enum": ["json", "markdown", "both"],
          "default": "both",
          "description": "Output format for validation reports"
        },
        "outputDirectory": {
          "type": "string",
          "default": ".github/validation/reports/templates",
          "description": "Directory for validation reports"
        }
      },
      "required": ["enabled"],
      "additionalProperties": false
    },
    "templates": {
      "type": "object",
      "properties": {
        "searchPaths": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            ".github/chatmodes",
            ".github/prompts",
            ".github/mcp",
            ".github/validation"
          ],
          "description": "Paths to search for template files"
        },
        "fileExtensions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [".md", ".json"],
          "description": "File extensions to validate"
        },
        "excludePatterns": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "**/node_modules/**",
            "**/reports/**",
            "**/.git/**"
          ],
          "description": "Patterns to exclude from validation"
        }
      },
      "additionalProperties": false
    },
    "schemas": {
      "type": "object",
      "properties": {
        "chatMode": {
          "$ref": "#/definitions/templateSchema"
        },
        "prompt": {
          "$ref": "#/definitions/templateSchema"
        },
        "mcpServer": {
          "$ref": "#/definitions/templateSchema"
        },
        "documentation": {
          "$ref": "#/definitions/templateSchema"
        }
      },
      "additionalProperties": {
        "$ref": "#/definitions/templateSchema"
      }
    },
    "contentStandards": {
      "type": "object",
      "properties": {
        "accessibility": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "minimumScore": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "default": 0.8
            },
            "checkAltText": {
              "type": "boolean",
              "default": true
            },
            "checkHeadingHierarchy": {
              "type": "boolean",
              "default": true
            },
            "checkLinkText": {
              "type": "boolean",
              "default": true
            }
          },
          "additionalProperties": false
        },
        "formatting": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "minimumScore": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "default": 0.8
            },
            "checkCodeBlocks": {
              "type": "boolean",
              "default": true
            },
            "checkLists": {
              "type": "boolean",
              "default": true
            },
            "checkTables": {
              "type": "boolean",
              "default": true
            }
          },
          "additionalProperties": false
        },
        "style": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "minimumScore": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "default": 0.7
            },
            "maxSentenceLength": {
              "type": "number",
              "minimum": 10,
              "default": 25
            },
            "maxPassiveVoiceRatio": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "default": 0.3
            },
            "checkTerminology": {
              "type": "boolean",
              "default": true
            }
          },
          "additionalProperties": false
        },
        "internationalization": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "minimumScore": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "default": 0.8
            },
            "checkDateFormats": {
              "type": "boolean",
              "default": true
            },
            "checkCurrencySymbols": {
              "type": "boolean",
              "default": true
            },
            "checkUnits": {
              "type": "boolean",
              "default": true
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "integration": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "testMCPServers": {
          "type": "boolean",
          "default": true
        },
        "testChatModes": {
          "type": "boolean",
          "default": true
        },
        "testTemplateGeneration": {
          "type": "boolean",
          "default": true
        },
        "testEndToEndWorkflows": {
          "type": "boolean",
          "default": true
        },
        "timeout": {
          "type": "number",
          "minimum": 1000,
          "default": 30000,
          "description": "Timeout in milliseconds for integration tests"
        }
      },
      "additionalProperties": false
    },
    "performance": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "maxProcessingTime": {
          "type": "number",
          "minimum": 1,
          "default": 100,
          "description": "Maximum processing time per file in milliseconds"
        },
        "minThroughput": {
          "type": "number",
          "minimum": 0.1,
          "default": 5,
          "description": "Minimum throughput in files per second"
        }
      },
      "additionalProperties": false
    },
    "reporting": {
      "type": "object",
      "properties": {
        "includeDetails": {
          "type": "boolean",
          "default": true
        },
        "includeRecommendations": {
          "type": "boolean",
          "default": true
        },
        "includePerformanceMetrics": {
          "type": "boolean",
          "default": true
        },
        "generateSummary": {
          "type": "boolean",
          "default": true
        }
      },
      "additionalProperties": false
    }
  },
  "definitions": {
    "templateSchema": {
      "type": "object",
      "properties": {
        "requiredSections": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of required sections in the template"
        },
        "optionalSections": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of optional sections in the template"
        },
        "structure": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z][a-zA-Z0-9_]*$": {
              "type": "object",
              "properties": {
                "pattern": {
                  "type": "string",
                  "description": "Regular expression pattern for the section"
                },
                "required": {
                  "type": "boolean",
                  "default": false
                },
                "multiple": {
                  "type": "boolean",
                  "default": false,
                  "description": "Whether multiple instances of this section are allowed"
                },
                "description": {
                  "type": "string",
                  "description": "Description of the section"
                }
              },
              "required": ["pattern"],
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "customValidation": {
          "type": "object",
          "properties": {
            "script": {
              "type": "string",
              "description": "Path to custom validation script"
            },
            "function": {
              "type": "string",
              "description": "Function name to call for validation"
            }
          },
          "additionalProperties": false
        }
      },
      "required": ["requiredSections", "structure"],
      "additionalProperties": false
    }
  },
  "required": ["validation"],
  "additionalProperties": false
}
